<p>
    Monitor and control a Drayton Wiser smart heating system.
</p>


<h3>Inputs</h3>
<p>
    TBC
</p>


<h3>Outputs</h3>
<p>
    TBC
</p>

<h3>Node Settings</h3>
<dl class="message-properties">
    <dt>Name <span class="property-type">string</span></dt>
    <dd>A short description shown in the admin interface.</dd>

    <dt>IP Addr <span class="property-type">string</span></dt>
    <dd>
        IP address of the Wiser Control Unit.
        Stored as a credential so not copied if copying the flow.
    </dd>

    <dt>Secret <span class="property-type">string</span></dt>
    <dd>
        Secret key used to enable access to the controller API.
        Stored as a credential so not copied if copying the flow.
        <p>
            In order to interface with the controller, you need to know a very long string of random characters that is its system secret.
        </p>
        <p>
            You can get the system secret on a Windows 10 PC by doing the following:
            <ol>
                <li>Press the setup button on your HeatHub, the light will start flashing</li>
                <li>Look for the Wi-Fi network (SSID) called ‘WiserHeatXXX’ where XXX is random</li>
                <li>Connect to the network from a Windows PC</li>
                <li>
                    Once connected run the following command in PowerShell:
                    <p><code>Invoke-RestMethod -Method Get -UseBasicParsing -Uri http://192.168.8.1/secret/</code></p>
                    <p>If you are using a different type of operating system, you will need a tool that will return data from a web query.</p>
                </li>
                <li>This will return a string which is your system secret</li>
                <li>Press the setup button on the HeatHub again and it will go back to normal operations</li>
                <li>Copy the secret and save it somewhere.</li>
            </ol>
        </p>
        <p>Instead of PowerShell, you can use curl, wget or similar tools that also work on other platforms</p>
    </dd>
</dl>

<p>
    <b>NOTE</b> that there is an example flow in the examples library that demonstrates the use of this node.
    Use the Editor's menu, import, Examples, node-red-contrib-drayton-wiser.
</p>